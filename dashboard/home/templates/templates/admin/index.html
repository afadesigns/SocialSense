{% extends 'layouts/base.html' %}
{% load static %}

{% block content %}
<!-- Existing content for cards and charts -->
{% include 'includes/footer.html' %}
{% endblock content %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
$(document).ready(function () {
    // Initialize Instagram Insights Chart if processed_insights data is available
    {% if processed_insights %}
    var insightsData = JSON.parse('{{ processed_insights|safe }}');

    // Example: Initialize Engagement Rate Chart
    var ctx = document.getElementById('chartBig1').getContext('2d');
    new Chart(ctx, {
        type: 'line',
        data: insightsData,
        options: {
            responsive: true,
            title: {
                display: true,
                text: 'Instagram Engagement Rate Over Time'
            },
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        }
    });
    {% endif %}

    // Existing initialization code for other charts
    demo.initDashboardPageCharts();
    demo.initVectorMap();
});
</script>
{% endblock extra_js %}
